<!-- a3024842-c3ba-4a17-9ee6-bc73bf907393 19a37abd-3f59-4fac-b58a-d40aaa15a796 -->
# Simplify Blob Pattern Configurator

## Changes

### 1. Remove Redundant Buttons

In [terrain_generator_demo.html](terrain_generator_demo.html), remove these buttons (lines 776-779):

- "Save Pattern" button
- "Load Saved" button  
- "Clear" button

Keep only:

- "Use Default" (existing)
- "Test Pattern" (existing)
- "Close" (existing)

### 2. Add Auto-Save on Paint

Update `paintStitchCell()` function to auto-save after each paint:

```javascript
window.paintStitchCell = function(index) {
    if (!currentStitchTile) return;
    stitchGridState[index] = currentStitchTile;
    renderStitchGrid();
    
    // Auto-save pattern
    const biome = document.getElementById('blobPatternBiome').value;
    const patterns = JSON.parse(localStorage.getItem('blobPatterns') || '{}');
    patterns[biome] = [...stitchGridState];
    localStorage.setItem('blobPatterns', JSON.stringify(patterns));
};
```

### 3. Update "Use Default" to Auto-Save

The existing `useDefaultPattern()` already saves - just verify it works.

## Result

**Before:** 6 buttons (Use Default, Save, Load, Test, Clear, Close)

**After:** 3 buttons (Use Default, Test Pattern, Close)

Workflow becomes: Open -> Paint tiles (auto-saves) -> Test or close

### To-dos

- [ ] Design stamp-based placement algorithm for 3x3 patterns
- [ ] Find edge locations and determine edge direction
- [ ] Place complete 3x3 stamps as units along edges
- [ ] Test stamp placement with labels enabled
- [ ] Rename water_tile_teacher.html to biome_edge_configurator.html
- [ ] Update file references in terrain_generator_demo.html and other files
- [ ] Update configurator to save full 3x3 binary pattern shape with center tile
- [ ] Implement 3x3 pattern matching in terrainGeneratorV2.js
- [ ] Test pattern matching with Procedural Enhanced generation
- [ ] Update biome_edge_configurator.html to save all 9 tiles with position keys
- [ ] Add getPatternTileForPosition() to map neighbor config to pattern position
- [ ] Update applyTerrainEdgeTiles() to apply position-based tiles from patterns
- [ ] Test that all 9 tiles from pattern appear correctly on generated terrain
- [ ] Update biome_edge_configurator.html to save all 9 tiles with position keys
- [ ] Add getPatternTileForPosition() to map neighbor config to pattern position
- [ ] Update applyTerrainEdgeTiles() to apply position-based tiles from patterns
- [ ] Test that all 9 tiles from pattern appear correctly on generated terrain
- [ ] Rename water_tile_teacher.html to biome_edge_configurator.html
- [ ] Update file references in terrain_generator_demo.html and other files
- [ ] Update configurator to save full 3x3 binary pattern shape with center tile
- [ ] Implement 3x3 pattern matching in terrainGeneratorV2.js
- [ ] Test pattern matching with Procedural Enhanced generation
- [ ] Add colored stamp outlines in renderPatternLabels() function
- [ ] Add debug logging to identify why rock-grass tiles are being skipped
- [ ] Fix edge detection to include all rock-grass boundary tiles
- [ ] Add colored stamp outlines in renderPatternLabels() function
- [ ] Add debug logging to identify why rock-grass tiles are being skipped
- [ ] Fix edge detection to include all rock-grass boundary tiles
- [ ] Implement stamp-based 3x3 pattern placement
- [ ] Design stamp-based placement algorithm for 3x3 patterns
- [ ] Find edge locations and determine edge direction
- [ ] Place complete 3x3 stamps as units along edges
- [ ] Test stamp placement with labels enabled
- [ ] Store pattern.directionId on tiles in placeStamp() function
- [ ] Update label rendering to show stampConfigName (at CENTER tile)
- [ ] Store pattern.directionId on tiles in placeStamp() function
- [ ] Update label rendering to show stampConfigName (at CENTER tile)
- [ ] Design stamp-based placement algorithm for 3x3 patterns
- [ ] Find edge locations and determine edge direction
- [ ] Place complete 3x3 stamps as units along edges
- [ ] Test stamp placement with labels enabled
- [ ] Add colored stamp outlines in renderPatternLabels() function
- [ ] Add debug logging to identify why rock-grass tiles are being skipped
- [ ] Fix edge detection to include all rock-grass boundary tiles
- [ ] Implement stamp-based 3x3 pattern placement
- [ ] Add console logging for direction detection and pattern matching
- [ ] Store detectedDirection and matchedPattern on tiles
- [ ] Update label display to show detected vs matched direction
- [ ] Add console logging for direction detection and pattern matching
- [ ] Store detectedDirection and matchedPattern on tiles
- [ ] Update label display to show detected vs matched direction
- [ ] Design stamp-based placement algorithm for 3x3 patterns
- [ ] Find edge locations and determine edge direction
- [ ] Place complete 3x3 stamps as units along edges
- [ ] Test stamp placement with labels enabled
- [ ] Add colored stamp outlines in renderPatternLabels() function
- [ ] Add debug logging to identify why rock-grass tiles are being skipped
- [ ] Fix edge detection to include all rock-grass boundary tiles
- [ ] Implement stamp-based 3x3 pattern placement
- [ ] Store pattern.directionId on tiles in placeStamp() function
- [ ] Update label rendering to show stampConfigName (at CENTER tile)
- [ ] Add biome selector dropdown to Stitch Designer UI
- [ ] Add saveBlobPattern() and loadBlobPatterns() localStorage functions
- [ ] Add getBlobPatternTile() function in uoTileSetsClean.js
- [ ] Update getMountainRockTile() to use saved patterns
- [ ] Update getContextualTile() to check blob patterns first
- [ ] Test saving pattern and generating terrain with it
- [ ] Add biome selector dropdown to Stitch Designer UI
- [ ] Add saveBlobPattern() and loadBlobPatterns() localStorage functions
- [ ] Add getBlobPatternTile() function in uoTileSetsClean.js
- [ ] Update getMountainRockTile() to use saved patterns
- [ ] Update getContextualTile() to check blob patterns first
- [ ] Test saving pattern and generating terrain with it
- [ ] Remove Save Pattern, Load Saved, and Clear buttons from UI
- [ ] Add auto-save to paintStitchCell() function